<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Rock Paper Scissors</title>
  </head>
  <body>
	<script>

        // 1 = rock
        // 2 = paper
        // 3 = scissors

        game();

        function game() {
            for (let i = 0; i < 5; i++) {
                let player = prompt("What is your move?").toLowerCase();

                console.log("Raw input: " + player);

                let playerChanged;

                if(player === "rock") {
                    playerChanged = 1;
                }
                else if(player === "paper") {
                    playerChanged = 2;
                }
                else if(player === "scissors") {
                    playerChanged = 3;
                }
                else {
                    playerChanged = 4;
                }

                console.log("Modified input: " + playerChanged);

                console.log(playRound(playerChanged, getComputerChoice()));
            }
        }

        function playRound(playerSelection, computerSelection) {

            console.log("playerSelection: " + playerSelection)
            console.log("computerSelection: " + computerSelection)

            if(playerSelection == computerSelection) {
                return "DRAW";
            }

            if(playerSelection == 1 && computerSelection == 2) {
                return "You Lose! Paper beats Rock";
            }

            if(playerSelection == 1 && computerSelection == 3) {
                return "You Win! Rock beats Paper";
            }

            if(playerSelection == 2 && computerSelection == 1) {
                return "You Win! Paper beats Rock";
            }

            if(playerSelection == 2 && computerSelection == 3) {
                return "You Lost! Scissors beats Rock";
            }

            if(playerSelection == 3 && computerSelection == 1) {
                return "You Lost! Rock beats Scissors";
            }

            if(playerSelection == 3 && computerSelection == 2) {
                return "You Win! Scissors beats Paper";
            }
        }

        function getComputerChoice() {
            console.log("getComputerChoice RAN");
            return Math.floor(Math.random() * 3) + 1;
        }

    </script>
  </body>
</html>